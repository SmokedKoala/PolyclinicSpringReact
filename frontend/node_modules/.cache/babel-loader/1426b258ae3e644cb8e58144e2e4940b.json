{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SophieP\\\\Documents\\\\Sharaga\\\\Fullstack\\\\create-react-app\\\\my-app\\\\src\\\\components\\\\login\\\\Login.jsx\";\nimport Yup from \"yup\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport { authenticationService } from \"../../services/authentication.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  // function authenticate() {\n  //     fetch('http://localhost:3001/authenticate', {\n  //         method: 'POST',\n  //         headers: {\n  //             'Content-Type': 'application/json',\n  //         },\n  //         body: JSON.stringify({id}),\n  //     })\n  //         .then(response => {\n  //             return response.text();\n  //         })\n  //         .then(data => {\n  //             alert(data);\n  //             getUsers();\n  //         });\n  // }\n  // render() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Normal User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), \" - id: 2\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Administrator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), \" - id: 1\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        id: ''\n      },\n      validationSchema: Yup.object().shape({\n        id: Yup.string().required('ID is required')\n      }),\n      onSubmit: (_ref, _ref2) => {\n        let {\n          id\n        } = _ref;\n        let {\n          setStatus,\n          setSubmitting\n        } = _ref2;\n        setStatus();\n        authenticationService.login(id).then(user => {\n          const {\n            from\n          } = this.props.location.state || {\n            from: {\n              pathname: \"/\"\n            }\n          };\n          this.props.history.push(from);\n        }, error => {\n          setSubmitting(false);\n          setStatus(error);\n        });\n      },\n      render: _ref3 => {\n        let {\n          errors,\n          status,\n          touched,\n          isSubmitting\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"id\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"id\",\n              type: \"text\",\n              className: 'form-control' + (errors.id && touched.id ? ' is-invalid' : '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"id\",\n              component: \"div\",\n              className: \"invalid-feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: isSubmitting,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), isSubmitting && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), status && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'alert alert-danger',\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this); // }\n}\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/SophieP/Documents/Sharaga/Fullstack/create-react-app/my-app/src/components/login/Login.jsx"],"names":["Yup","ErrorMessage","Field","Form","Formik","authenticationService","Login","id","object","shape","string","required","setStatus","setSubmitting","login","then","user","from","props","location","state","pathname","history","push","error","errors","status","touched","isSubmitting"],"mappings":"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","sourcesContent":["import Yup from \"yup\";\r\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\r\nimport {authenticationService} from \"../../services/authentication.service\";\r\n\r\n\r\nfunction Login() {\r\n\r\n    // function authenticate() {\r\n    //     fetch('http://localhost:3001/authenticate', {\r\n    //         method: 'POST',\r\n    //         headers: {\r\n    //             'Content-Type': 'application/json',\r\n    //         },\r\n    //         body: JSON.stringify({id}),\r\n    //     })\r\n    //         .then(response => {\r\n    //             return response.text();\r\n    //         })\r\n    //         .then(data => {\r\n    //             alert(data);\r\n    //             getUsers();\r\n    //         });\r\n    // }\r\n\r\n    // render() {\r\n    return (\r\n        <div>\r\n            <div className=\"alert alert-info\">\r\n                <strong>Normal User</strong> - id: 2<br/>\r\n                <strong>Administrator</strong> - id: 1\r\n            </div>\r\n\r\n            <h2>Login</h2>\r\n\r\n            {/*<form>*/}\r\n            {/*    <div className=\"form-group\">*/}\r\n            {/*        <label htmlFor=\"id\">ID</label>*/}\r\n            {/*        <input name=\"id\" type=\"text\"/>*/}\r\n            {/*    </div>*/}\r\n            {/*    <div className=\"form-group\">*/}\r\n            {/*        <button className=\"btn btn-primary\" onClick={authenticate}>Login</button>*/}\r\n            {/*    </div>*/}\r\n            {/*</form>*/}\r\n\r\n            <Formik\r\n                initialValues={{\r\n                    id: ''\r\n                }}\r\n                validationSchema={Yup.object().shape({\r\n                    id: Yup.string().required('ID is required')\r\n                })}\r\n                onSubmit={({id}, { setStatus, setSubmitting }) => {\r\n                    setStatus();\r\n                    authenticationService.login(id)\r\n                        .then(\r\n                            user => {\r\n                                const { from } = this.props.location.state || { from: { pathname: \"/\" } };\r\n                                this.props.history.push(from);\r\n                            },\r\n                            error => {\r\n                                setSubmitting(false);\r\n                                setStatus(error);\r\n                            }\r\n                        );\r\n                }}\r\n                render={({ errors, status, touched, isSubmitting }) => (\r\n                    <Form>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"id\">ID</label>\r\n                            <Field name=\"id\" type=\"text\" className={'form-control' + (errors.id && touched.id ? ' is-invalid' : '')} />\r\n                            <ErrorMessage name=\"id\" component=\"div\" className=\"invalid-feedback\" />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Login</button>\r\n                            {isSubmitting &&\r\n                                <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                            }\r\n                        </div>\r\n                        {status &&\r\n                            <div className={'alert alert-danger'}>{status}</div>\r\n                        }\r\n                    </Form>\r\n                )}\r\n            />\r\n        </div>\r\n    );\r\n    // }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}