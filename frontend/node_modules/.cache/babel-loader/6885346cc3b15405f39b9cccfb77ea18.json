{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SophieP\\\\Documents\\\\Sharaga\\\\Fullstack\\\\create-react-app\\\\my-app\\\\src\\\\components\\\\login\\\\Login.jsx\";\nimport * as Yup from \"yup\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport { authenticationService } from \"../../services/authentication.service\";\nimport React from \"react\";\nimport classes from './Login.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props); // redirect to home if already logged in\n\n    if (authenticationService.currentUserValue) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Normal User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 21\n        }, this), \" - id: 2\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Administrator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 21\n        }, this), \" - id: 1\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          id: ''\n        },\n        validationSchema: Yup.object().shape({\n          id: Yup.string().required('ID is required')\n        }),\n        onSubmit: (_ref, _ref2) => {\n          let {\n            id\n          } = _ref;\n          let {\n            setStatus,\n            setSubmitting\n          } = _ref2;\n          setStatus();\n          authenticationService.login(id).then(user => {\n            const {\n              from\n            } = this.props.location.state || {\n              from: {\n                pathname: \"/\"\n              }\n            };\n            this.props.history.push(from);\n          }, error => {\n            setSubmitting(false);\n            setStatus(error);\n          });\n        },\n        render: _ref3 => {\n          let {\n            errors,\n            status,\n            touched,\n            isSubmitting\n          } = _ref3;\n          return /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"id\",\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                name: \"id\",\n                type: \"text\",\n                className: 'form-control' + (errors.id && touched.id ? ' is-invalid' : '')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"id\",\n                component: \"div\",\n                className: \"invalid-feedback\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: classes.loginButton,\n                disabled: isSubmitting,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 33\n              }, this), isSubmitting && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), status && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'alert alert-danger',\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport { Login };","map":{"version":3,"sources":["C:/Users/SophieP/Documents/Sharaga/Fullstack/create-react-app/my-app/src/components/login/Login.jsx"],"names":["Yup","ErrorMessage","Field","Form","Formik","authenticationService","React","classes","Login","Component","constructor","props","currentUserValue","history","push","render","id","object","shape","string","required","setStatus","setSubmitting","login","then","user","from","location","state","pathname","error","errors","status","touched","isSubmitting","loginButton"],"mappings":"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","sourcesContent":["import * as Yup from \"yup\";\r\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\r\nimport {authenticationService} from \"../../services/authentication.service\";\r\nimport React from \"react\";\r\nimport classes from './Login.module.css';\r\n\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // redirect to home if already logged in\r\n        if (authenticationService.currentUserValue) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"alert alert-info\">\r\n                    <strong>Normal User</strong> - id: 2<br/>\r\n                    <strong>Administrator</strong> - id: 1\r\n                </div>\r\n\r\n                <h2>Login</h2>\r\n\r\n                <Formik\r\n                    initialValues={{\r\n                        id: ''\r\n                    }}\r\n                    validationSchema={Yup.object().shape({\r\n                        id: Yup.string().required('ID is required')\r\n                    })}\r\n                    onSubmit={({id}, {setStatus, setSubmitting}) => {\r\n                        setStatus();\r\n                        authenticationService.login(id)\r\n                            .then(\r\n                                user => {\r\n                                    const {from} = this.props.location.state || {from: {pathname: \"/\"}};\r\n                                    this.props.history.push(from);\r\n                                },\r\n                                error => {\r\n                                    setSubmitting(false);\r\n                                    setStatus(error);\r\n                                }\r\n                            );\r\n                    }}\r\n                    render={({errors, status, touched, isSubmitting}) => (\r\n                        <Form>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"id\">ID</label>\r\n                                <Field name=\"id\" type=\"text\"\r\n                                       className={'form-control' + (errors.id && touched.id ? ' is-invalid' : '')}/>\r\n                                <ErrorMessage name=\"id\" component=\"div\" className=\"invalid-feedback\"/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button type=\"submit\" className={classes.loginButton} disabled={isSubmitting}>Login</button>\r\n                                {isSubmitting &&\r\n                                    <img\r\n                                        src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"/>\r\n                                }\r\n                            </div>\r\n                            {status &&\r\n                                <div className={'alert alert-danger'}>{status}</div>\r\n                            }\r\n                        </Form>\r\n                    )}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport {Login};\r\n"]},"metadata":{},"sourceType":"module"}