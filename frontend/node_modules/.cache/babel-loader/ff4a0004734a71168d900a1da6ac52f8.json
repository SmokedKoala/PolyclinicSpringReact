{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SophieP\\\\Documents\\\\Sharaga\\\\Fullstack\\\\create-react-app\\\\my-app\\\\src\\\\components\\\\login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport * as Yup from \"yup\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport { authenticationService } from \"../../services/authentication.service\";\nimport React from \"react\";\nimport { useLocation, Navigate, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const history = useHistory();\n\n  if (authenticationService.currentUserValue) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 16\n    }, this);\n  } // // redirect to home if already logged in\n  // if (authenticationService.currentUserValue) {\n  //    history.push('/');\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Normal User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), \" - id: 2\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Administrator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), \" - id: 1\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        id: ''\n      },\n      validationSchema: Yup.object().shape({\n        id: Yup.string().required('ID is required')\n      }),\n      onSubmit: (_ref, _ref2) => {\n        let {\n          id\n        } = _ref;\n        let {\n          setStatus,\n          setSubmitting\n        } = _ref2;\n        setStatus();\n        authenticationService.login(id).then(user => {// navigate('/');\n        }, error => {\n          setSubmitting(false);\n          setStatus(error);\n        });\n      },\n      render: _ref3 => {\n        let {\n          errors,\n          status,\n          touched,\n          isSubmitting\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"id\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"id\",\n              type: \"text\",\n              className: 'form-control' + (errors.id && touched.id ? ' is-invalid' : '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"id\",\n              component: \"div\",\n              className: \"invalid-feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: isSubmitting,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), isSubmitting && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), status && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'alert alert-danger',\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/SophieP/Documents/Sharaga/Fullstack/create-react-app/my-app/src/components/login/Login.jsx"],"names":["Yup","ErrorMessage","Field","Form","Formik","authenticationService","React","useLocation","Navigate","useHistory","Login","history","currentUserValue","from","location","id","object","shape","string","required","setStatus","setSubmitting","login","then","user","error","errors","status","touched","isSubmitting"],"mappings":"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","sourcesContent":["import * as Yup from \"yup\";\r\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\r\nimport {authenticationService} from \"../../services/authentication.service\";\r\nimport React from \"react\";\r\nimport {useLocation, Navigate, useHistory} from \"react-router-dom\";\r\n\r\n\r\nfunction Login () {\r\n\r\n    const history = useHistory();\r\n\r\n    if (authenticationService.currentUserValue) {\r\n        return <Navigate to=\"/\" state={{ from: location }} replace />;\r\n    }\r\n\r\n    // // redirect to home if already logged in\r\n    // if (authenticationService.currentUserValue) {\r\n    //    history.push('/');\r\n    // }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"alert alert-info\">\r\n                <strong>Normal User</strong> - id: 2<br/>\r\n                <strong>Administrator</strong> - id: 1\r\n            </div>\r\n\r\n            <h2>Login</h2>\r\n\r\n            <Formik\r\n                initialValues={{\r\n                    id: ''\r\n                }}\r\n                validationSchema={Yup.object().shape({\r\n                    id: Yup.string().required('ID is required')\r\n                })}\r\n                onSubmit={({id}, {setStatus, setSubmitting}) => {\r\n                    setStatus();\r\n                    authenticationService.login(id)\r\n                        .then(\r\n                            user => {\r\n                                // navigate('/');\r\n                            },\r\n                            error => {\r\n                                setSubmitting(false);\r\n                                setStatus(error);\r\n                            }\r\n                        );\r\n                }}\r\n                render={({errors, status, touched, isSubmitting}) => (\r\n                    <Form>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"id\">ID</label>\r\n                            <Field name=\"id\" type=\"text\"\r\n                                   className={'form-control' + (errors.id && touched.id ? ' is-invalid' : '')}/>\r\n                            <ErrorMessage name=\"id\" component=\"div\" className=\"invalid-feedback\"/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Login</button>\r\n                            {isSubmitting &&\r\n                                <img\r\n                                    src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"/>\r\n                            }\r\n                        </div>\r\n                        {status &&\r\n                            <div className={'alert alert-danger'}>{status}</div>\r\n                        }\r\n                    </Form>\r\n                )}\r\n            />\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}