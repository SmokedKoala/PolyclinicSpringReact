{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SophieP\\\\Documents\\\\Sharaga\\\\Fullstack\\\\create-react-app\\\\my-app\\\\src\\\\components\\\\login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport { useEffect, useState } from \"react\";\nimport * as Yup from 'yup';\nimport { authenticationService } from '../../services/authentication.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [users, setUsers] = useState(false);\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  function getUsers() {\n    fetch('http://localhost:3001').then(async response => {\n      return await response.json();\n    }).then(data => {\n      setUsers(data);\n    });\n  } // constructor(props) {\n  //     super(props);\n  //\n  //     // redirect to home if already logged in\n  //     if (authenticationService.currentUserValue) {\n  //         this.props.history.push('/');\n  //     }\n  // }\n  // render() {\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Normal User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this), \" - U: user P: user\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Administrator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this), \" - U: admin P: admin\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        username: ''\n      },\n      validationSchema: Yup.object().shape({\n        username: Yup.string().required('Username is required')\n      }),\n      onSubmit: (_ref, _ref2) => {\n        let {\n          username,\n          password\n        } = _ref;\n        let {\n          setStatus,\n          setSubmitting\n        } = _ref2;\n        setStatus();\n        authenticationService.login(username, password).then(user => {\n          const {\n            from\n          } = this.props.location.state || {\n            from: {\n              pathname: \"/\"\n            }\n          };\n          this.props.history.push(from);\n        }, error => {\n          setSubmitting(false);\n          setStatus(error);\n        });\n      },\n      render: _ref3 => {\n        let {\n          errors,\n          status,\n          touched,\n          isSubmitting\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"username\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"username\",\n              type: \"text\",\n              className: 'form-control' + (errors.username && touched.username ? ' is-invalid' : '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"username\",\n              component: \"div\",\n              className: \"invalid-feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: isSubmitting,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this), isSubmitting && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), status && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'alert alert-danger',\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 13\n  }, this); // }\n}\n\n_s(Login, \"QE/LEQenXXkpUR6LHjK6Kp5p0gg=\");\n\n_c = Login;\nexport { Login };\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/SophieP/Documents/Sharaga/Fullstack/create-react-app/my-app/src/components/login/Login.jsx"],"names":["Formik","Field","Form","ErrorMessage","useEffect","useState","Yup","authenticationService","Login","users","setUsers","getUsers","fetch","then","response","json","data","username","object","shape","string","required","password","setStatus","setSubmitting","login","user","from","props","location","state","pathname","history","push","error","errors","status","touched","isSubmitting"],"mappings":"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","sourcesContent":["import {Formik, Field, Form, ErrorMessage} from 'formik';\r\nimport {useEffect, useState} from \"react\";\r\nimport * as Yup from 'yup';\r\n\r\nimport {authenticationService} from '../../services/authentication.service';\r\n\r\nfunction Login() {\r\n\r\n    const [users, setUsers] = useState(false);\r\n    useEffect(() => {\r\n        getUsers();\r\n    }, []);\r\n\r\n    function getUsers() {\r\n        fetch('http://localhost:3001')\r\n            .then(async response => {\r\n                return await response.json();\r\n            })\r\n            .then(data => {\r\n                setUsers(data);\r\n            });\r\n    }\r\n    // constructor(props) {\r\n    //     super(props);\r\n    //\r\n    //     // redirect to home if already logged in\r\n    //     if (authenticationService.currentUserValue) {\r\n    //         this.props.history.push('/');\r\n    //     }\r\n    // }\r\n\r\n    // render() {\r\n        return (\r\n            <div>\r\n                <div className=\"alert alert-info\">\r\n                    <strong>Normal User</strong> - U: user P: user<br/>\r\n                    <strong>Administrator</strong> - U: admin P: admin\r\n                </div>\r\n                <h2>Login</h2>\r\n                <Formik\r\n                    initialValues={{\r\n                        username: ''\r\n                    }}\r\n                    validationSchema={Yup.object().shape({\r\n                        username: Yup.string().required('Username is required')\r\n                    })}\r\n                    onSubmit={({username, password}, {setStatus, setSubmitting}) => {\r\n                        setStatus();\r\n                        authenticationService.login(username, password)\r\n                            .then(\r\n                                user => {\r\n                                    const {from} = this.props.location.state || {from: {pathname: \"/\"}};\r\n                                    this.props.history.push(from);\r\n                                },\r\n                                error => {\r\n                                    setSubmitting(false);\r\n                                    setStatus(error);\r\n                                }\r\n                            );\r\n                    }}\r\n                    render={({errors, status, touched, isSubmitting}) => (\r\n                        <Form>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"username\">Username</label>\r\n                                <Field name=\"username\" type=\"text\"\r\n                                       className={'form-control' + (errors.username && touched.username ? ' is-invalid' : '')}/>\r\n                                <ErrorMessage name=\"username\" component=\"div\" className=\"invalid-feedback\"/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Login</button>\r\n                                {isSubmitting &&\r\n                                    <img\r\n                                        src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"/>\r\n                                }\r\n                            </div>\r\n                            {status &&\r\n                                <div className={'alert alert-danger'}>{status}</div>\r\n                            }\r\n                        </Form>\r\n                    )}\r\n                />\r\n            </div>\r\n        );\r\n    // }\r\n}\r\n\r\nexport {Login};\r\n"]},"metadata":{},"sourceType":"module"}